# GhostCHAT — PFS build

В этой сборке добавлены:
- ✅ **PFS (ECDH P-256 + HKDF)** — ключ сессии генерируется при подключении обоих участников.
- ✅ **Ephemeral Mode** — клиентская очистка сообщений старше 30 минут (+ пример Cloud Function).
- ✅ **Key-Exchange QR** — генерация QR **только с ключом**, без URL.
- ✅ **Firebase Anonymous Auth** — доступ к БД только авторизованным клиентам (анонимно).
- ♻️ Остальной функционал (реакции, Палево, Enter-to-Send, стиль) сохранён.

> Примечание: WebRTC-Relay и sandbox-iframe подготовлены к внедрению (понадобится чуть больше тестов).

## Безопасность
- Сервер хранит только `iv` и `ct` (ciphertext). Расшифровка — в браузере.
- Ключ сессии (PFS) меняется при новом рукопожатии (перезаход/пересоздание).
- Рекомендуется включить Cloud Function для TTL-очистки на сервере (см. `CLOUD_FUNCTIONS.md`).

